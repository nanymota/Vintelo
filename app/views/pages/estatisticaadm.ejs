<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vint√©lo - Estat√≠sticas Admin</title>
    <link rel="stylesheet" href="css/estatistica.css?v=1.1">
    <link rel="stylesheet" href="css/estatisticaadm.css?v=1.1">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Raleway:wght@300;400;500;600;700&family=Playfair+Display:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="icon" href="/imagens/brilhoescuro.png" type="image/x-icon">
</head>
<body>
    <!-- Header Mobile -->
    <header class="header-mobile">
        <nav>
            <a href="/homeadm">
                <img src="imagens/seta.png" alt="Voltar">
            </a>
            <img src="imagens/logo.png" alt="Logo">
            <a href="/menuadm">
                <img src="/imagens/icone sem cadastro.png" alt="Perfil" class="perfil">
            </a>
        </nav>
    </header>

    <!-- Header Desktop -->
    <header class="header-desktop">
        <section class="top-bar">
            <p>Painel Administrativo</p>
        </section>
        <section class="main-nav">
            <a href="/homeadm">
                <img src="imagens/logo.png" class="logo">
            </a>
            <nav>
                <a href="/usuariosadm">Usu√°rios</a>
                <a href="/brechosadm">Brech√≥s</a>
                <a href="/produtosadm">Produtos</a>
                <a href="/pedidosadm">Pedidos</a>
                <a href="/relatorioadm">Relat√≥rios</a>
            </nav>
            <section class="nav-icons">
                <input type="text" placeholder="Buscar...">
                <a href="/menuadm"><img src="/imagens/icone sem cadastro.png"></a>
            </section>
        </section>
    </header>

    <main>
        <nav class="category-nav">
            <br>
            <span class="garimpe-text">Estat√≠sticas da</span><br>
            <span class="vintelo-text">Vint√©lo</span>
            <br>
        </nav>
        
        <section class="stats-grid">
            <section class="stat-card usuarios-card" onclick="showSection('usuarios')">
                <section class="card-icon">üë•</section>
                <h3>Total Usu√°rios</h3>
                <section class="value"><%= estatisticas.totalUsuarios %></section>
            </section>
            
            <section class="stat-card brechos-card" onclick="showSection('brechos')">
                <section class="card-icon">üè™</section>
                <h3>Brech√≥s Ativos</h3>
                <section class="value"><%= estatisticas.totalBrechos %></section>
            </section>
            
            <section class="stat-card produtos-card" onclick="showSection('produtos')">
                <section class="card-icon">üì¶</section>
                <h3>Produtos Cadastrados</h3>
                <section class="value"><%= estatisticas.totalProdutos %></section>
            </section>
            
            <section class="stat-card vendas-card" onclick="showSection('vendas')">
                <section class="card-icon">üí∞</section>
                <h3>Vendas Totais</h3>
                <section class="value"><%= estatisticas.totalVendas %></section>
            </section>
            
            <section class="stat-card receita-card" onclick="showSection('receita')">
                <section class="card-icon">üìä</section>
                <h3>Receita Total</h3>
                <section class="value">R$ <%= (estatisticas.receitaTotal || 0).toFixed(2).replace('.', ',') %></section>
            </section>
            
            <section class="stat-card denuncias-card" onclick="showSection('denuncias')">
                <section class="card-icon">‚ö†Ô∏è</section>
                <h3>Den√∫ncias Pendentes</h3>
                <section class="value"><%= estatisticas.denunciasPendentes %></section>
            </section>
        </section>

        <section class="charts-grid" id="charts-section">
            <section class="chart-card">
                <h3>Crescimento de Usu√°rios</h3>
                <section class="bar-chart">
                    <section class="bar" style="height: 80%;">
                        <span class="bar-value">320</span>
                        <span class="bar-label">Jan</span>
                    </section>
                    <section class="bar" style="height: 65%;">
                        <span class="bar-value">260</span>
                        <span class="bar-label">Fev</span>
                    </section>
                    <section class="bar" style="height: 90%;">
                        <span class="bar-value">360</span>
                        <span class="bar-label">Mar</span>
                    </section>
                    <section class="bar" style="height: 75%;">
                        <span class="bar-value">300</span>
                        <span class="bar-label">Abr</span>
                    </section>
                </section>
            </section>
            
            <section class="chart-card">
                <h3>Distribui√ß√£o por Categoria</h3>
                <section class="pie-chart">
                    <section class="pie-center">100%</section>
                </section>
                <section class="pie-legend">
                    <section class="legend-item">
                        <section class="legend-color" style="background: #8c2b44;"></section>
                        <span>Vestidos (35%)</span>
                    </section>
                    <section class="legend-item">
                        <section class="legend-color" style="background: #a64d61;"></section>
                        <span>Blusas (25%)</span>
                    </section>
                    <section class="legend-item">
                        <section class="legend-color" style="background: #c96d7e;"></section>
                        <span>Acess√≥rios (20%)</span>
                    </section>
                    <section class="legend-item">
                        <section class="legend-color" style="background: #e8a5b0;"></section>
                        <span>Outros (20%)</span>
                    </section>
                </section>
            </section>
        </section>

        <!-- Se√ß√µes Detalhadas -->
        <section id="usuarios" class="detail-section" style="display: none;">
            <section class="section-wrapper">
                <section class="section-header">
                    <h2>Gest√£o de Usu√°rios</h2>
                    <button class="back-btn" onclick="hideAllSections()">‚Üê Voltar</button>
                </section>
                <section class="detail-grid">
                    <section class="detail-card">
                        <h4>Usu√°rios Ativos</h4>
                        <section class="detail-value">1,180</section>
                        <p>Usu√°rios com login recente</p>
                    </section>
                    <section class="detail-card">
                        <h4>Novos Cadastros</h4>
                        <section class="detail-value">70</section>
                        <p>Este m√™s</p>
                    </section>
                    <section class="detail-card">
                        <h4>Usu√°rios Bloqueados</h4>
                        <section class="detail-value">8</section>
                        <p>Por viola√ß√£o de termos</p>
                    </section>
                </section>
                <section class="progress-section">
                    <h4>Meta: 1.500 usu√°rios ativos</h4>
                    <section class="progress-bar">
                        <section class="progress-fill" style="width: 78%;"></section>
                    </section>
                    <p>78% da meta atingida</p>
                </section>
            </section>
        </section>

        <section id="brechos" class="detail-section" style="display: none;">
            <section class="section-wrapper">
                <section class="section-header">
                    <h2>Gest√£o de Brech√≥s</h2>
                    <button class="back-btn" onclick="hideAllSections()">‚Üê Voltar</button>
                </section>
                <section class="detail-grid">
                    <section class="detail-card">
                        <h4>Brech√≥s Verificados</h4>
                        <section class="detail-value">72</section>
                        <p>Com documenta√ß√£o completa</p>
                    </section>
                    <section class="detail-card">
                        <h4>Pendentes Aprova√ß√£o</h4>
                        <section class="detail-value">13</section>
                        <p>Aguardando verifica√ß√£o</p>
                    </section>
                    <section class="detail-card">
                        <h4>Brech√≥s Suspensos</h4>
                        <section class="detail-value">3</section>
                        <p>Por irregularidades</p>
                    </section>
                </section>
                <section class="progress-section">
                    <h4>Meta: 100 brech√≥s ativos</h4>
                    <section class="progress-bar">
                        <section class="progress-fill" style="width: 85%;"></section>
                    </section>
                    <p>85% da meta atingida</p>
                </section>
            </section>
        </section>

        <section id="produtos" class="detail-section" style="display: none;">
            <section class="section-wrapper">
                <section class="section-header">
                    <h2>Gest√£o de Produtos</h2>
                    <button class="back-btn" onclick="hideAllSections()">‚Üê Voltar</button>
                </section>
                <section class="detail-grid">
                    <section class="detail-card">
                        <h4>Produtos Ativos</h4>
                        <section class="detail-value">3,200</section>
                        <p>Dispon√≠veis para venda</p>
                    </section>
                    <section class="detail-card">
                        <h4>Aguardando Modera√ß√£o</h4>
                        <section class="detail-value">220</section>
                        <p>Produtos para aprova√ß√£o</p>
                    </section>
                    <section class="detail-card">
                        <h4>Produtos Removidos</h4>
                        <section class="detail-value">45</section>
                        <p>Por viola√ß√£o de pol√≠ticas</p>
                    </section>
                </section>
                <section class="progress-section">
                    <h4>Meta: 5.000 produtos ativos</h4>
                    <section class="progress-bar">
                        <section class="progress-fill" style="width: 64%;"></section>
                    </section>
                    <p>64% da meta atingida</p>
                </section>
            </section>
        </section>

        <section id="vendas" class="detail-section" style="display: none;">
            <section class="section-wrapper">
                <section class="section-header">
                    <h2>An√°lise de Vendas</h2>
                    <button class="back-btn" onclick="hideAllSections()">‚Üê Voltar</button>
                </section>
                <section class="detail-grid">
                    <section class="detail-card">
                        <h4>Vendas Conclu√≠das</h4>
                        <section class="detail-value">892</section>
                        <p>Transa√ß√µes finalizadas</p>
                    </section>
                    <section class="detail-card">
                        <h4>Vendas Canceladas</h4>
                        <section class="detail-value">28</section>
                        <p>Por diversos motivos</p>
                    </section>
                    <section class="detail-card">
                        <h4>Taxa de Convers√£o</h4>
                        <section class="detail-value">12.5%</section>
                        <p>Visitantes que compraram</p>
                    </section>
                </section>
                <section class="progress-section">
                    <h4>Meta: 1.000 vendas mensais</h4>
                    <section class="progress-bar">
                        <section class="progress-fill" style="width: 89%;"></section>
                    </section>
                    <p>89% da meta atingida</p>
                </section>
            </section>
        </section>



        <section id="receita" class="detail-section" style="display: none;">
            <section class="section-wrapper">
                <section class="section-header">
                    <h2>An√°lise de Receita</h2>
                    <button class="back-btn" onclick="hideAllSections()">‚Üê Voltar</button>
                </section>
                <section class="detail-grid">
                    <section class="detail-card">
                        <h4>Receita Bruta</h4>
                        <section class="detail-value">R$ <%= (estatisticas.receitaTotal || 0).toFixed(2).replace('.', ',') %></section>
                        <p>Total arrecadado</p>
                    </section>
                    <section class="detail-card">
                        <h4>Comiss√£o Plataforma</h4>
                        <section class="detail-value">R$ <%= ((estatisticas.receitaTotal || 0) * 0.05).toFixed(2).replace('.', ',') %></section>
                        <p>5% sobre vendas</p>
                    </section>
                    <section class="detail-card">
                        <h4>Ticket M√©dio</h4>
                        <section class="detail-value">R$ <%= estatisticas.totalVendas > 0 ? ((estatisticas.receitaTotal || 0) / estatisticas.totalVendas).toFixed(2).replace('.', ',') : '0,00' %></section>
                        <p>Por transa√ß√£o</p>
                    </section>
                </section>
                <section class="progress-section">
                    <h4>Meta: R$ 50.000 mensais</h4>
                    <section class="progress-bar">
                        <section class="progress-fill" style="width: <%= Math.min(((estatisticas.receitaTotal || 0) / 50000) * 100, 100) %>%;"></section>
                    </section>
                    <p><%= Math.min(((estatisticas.receitaTotal || 0) / 50000) * 100, 100).toFixed(1) %>% da meta atingida</p>
                </section>
            </section>
        </section>

        <section id="denuncias" class="detail-section" style="display: none;">
            <section class="section-wrapper">
                <section class="section-header">
                    <h2>Gest√£o de Den√∫ncias</h2>
                    <button class="back-btn" onclick="hideAllSections()">‚Üê Voltar</button>
                </section>
                <section class="detail-grid">
                    <section class="detail-card">
                        <h4>Den√∫ncias Abertas</h4>
                        <section class="detail-value"><%= estatisticas.denunciasPendentes %></section>
                        <p>Aguardando an√°lise</p>
                    </section>
                    <section class="detail-card">
                        <h4>Resolvidas Este M√™s</h4>
                        <section class="detail-value">45</section>
                        <p>Casos finalizados</p>
                    </section>
                    <section class="detail-card">
                        <h4>Tempo M√©dio</h4>
                        <section class="detail-value">2.5 dias</section>
                        <p>Para resolu√ß√£o</p>
                    </section>
                </section>
                <section class="progress-section">
                    <h4>Meta: Resolver em at√© 3 dias</h4>
                    <section class="progress-bar">
                        <section class="progress-fill" style="width: 83%;"></section>
                    </section>
                    <p>Dentro do prazo estabelecido</p>
                </section>
            </section>
        </section>
    </main>

    <footer>
        <img src="imagens/logo2.jpeg" alt="Logo">
        <section class="social">
            <p>Siga nossas redes sociais</p>
            <section class="social-links">
                <a href="https://facebook.com" target="_blank"><img src="imagens/Facebook.png" alt="Facebook"></a>
                <a href="https://twitter.com" target="_blank"><img src="imagens/Pinterest.png" alt="Pinterest"></a>
                <a href="https://www.instagram.com/vintelobrechos" target="_blank"><img src="imagens/Instagram.png" alt="Instagram"></a>
            </section>
        </section>
        <p class="copyright">¬©2024 Vint√©lo. Todos os direitos reservados.</p>
    </footer>
    
    <script>
        // Fun√ß√£o vazia - anima√ß√£o removida
        function animateCounters() {
            // Anima√ß√£o de contadores removida
        }
        
        // Mostrar se√ß√£o espec√≠fica
        function showSection(sectionId) {
            document.getElementById(sectionId).style.display = 'block';
        }
        
        // Esconder todas as se√ß√µes
        function hideAllSections() {
            const sections = document.querySelectorAll('.detail-section');
            sections.forEach(section => {
                section.style.display = 'none';
            });
        }
        
        // Inicializar quando a p√°gina carregar
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(animateCounters, 500);
        });
    </script>

    <script>
        window.isAuthenticated = <%= typeof autenticado !== 'undefined' && autenticado && autenticado.autenticado ? 'true' : 'false' %>;
        <% if (typeof autenticado !== 'undefined' && autenticado && autenticado.tipo) { %>
        window.userType = '<%= autenticado.tipo %>';
        <% } %>
    </script>
    <script src="/js/navegacao.js"></script>
</body>
</html>